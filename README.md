# üçΩÔ∏è Restaurant Menu Platform ‚Äì Developer Guide

## üß† –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞
–°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–∏–¥–µ–æ–º–µ–Ω—é –¥–ª—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ —Å:
- –≤—ã—Å–æ–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é –∑–∞–≥—Ä—É–∑–∫–∏,
- —É–¥–æ–±–Ω–æ–π –∞–¥–º–∏–Ω–∫–æ–π,
- –≤–∏–¥–µ–æ-–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–µ–π –±–ª—é–¥,
- –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π –∏ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏.

## üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

| –ú–æ–¥—É–ª—å         | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è          | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                     |
|----------------|---------------------|----------------------------------------------------------------|
| `admin/client` | Next.js (TypeScript)| –ê–¥–º–∏–Ω–∫–∞: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞–º–∏, –º–µ–Ω—é, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –º–µ–¥–∏–∞   |
| `admin/server` | Nest.js + MongoDB   | API –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞: CRUD, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –±–∏–ª–ª–∏–Ω–≥, —Ä–æ–ª–∏          |
| `menu`         | Next.js             | SSR/SSG –º–µ–Ω—é —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞, –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å, –≤–∏–¥–µ–æ                 |

---

## üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ä–æ–ª–∏ (–æ–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è –º–æ–¥–µ–ª—å)

### üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–æ–ª–µ–π
–°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π –∏ –¥–æ—Å—Ç—É–ø–æ–≤ —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ API.

–ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –æ–¥–Ω—É –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–æ–ª–µ–π, –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –≤–ª–∞–¥–µ–ª—å—Ü–µ–º —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ –∏–ª–∏ —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–æ–º.

```plaintext
User
 ‚îî‚îÄ‚îÄ roles: [ RoleAssignment ]

RoleAssignment
 ‚îú‚îÄ‚îÄ role: enum (superadmin | support | res-owner | manager | waiter)
 ‚îú‚îÄ‚îÄ restaurantId?: ObjectId  // –µ—Å–ª–∏ —Ä–æ–ª—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–º
 ‚îú‚îÄ‚îÄ permissions: string[]    // —Å–ø–∏—Å–æ–∫ –ø—Ä–∞–≤ (customizable)
```

### üîë –í–∏–¥—ã —Ä–æ–ª–µ–π

#### üü• Superadmin
- –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞–º –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.
- –ú–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏, —Å–æ–∑–¥–∞–≤–∞—Ç—å –ª—é–±—ã–µ —Ä–æ–ª–∏.
- –ü–æ–¥-—Ä–æ–ª–∏:
  - **Support** ‚Äì –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ –ø—Ä–æ—Å–º–æ—Ç—Ä—É –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–∫–ª—é—á–∏—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω, –ø–æ–º–æ—á—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é).

#### üüß –í–ª–∞–¥–µ–ª–µ—Ü —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ (res-owner)
- –£–ø—Ä–∞–≤–ª—è–µ—Ç 1 –∏–ª–∏ –±–æ–ª–µ–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞–º–∏.
- –ú–æ–∂–µ—Ç:
  - –°–æ–∑–¥–∞–≤–∞—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤, –æ—Ñ–∏—Ü–∏–∞–Ω—Ç–æ–≤ –∏ –¥–∞–≤–∞—Ç—å –∏–º —Ä–æ–ª–∏.
  - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –º–µ–Ω—é, –º–µ–¥–∏–∞, —Å–∫–∏–¥–∫–∏, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫—É.
  - –í–∏–¥–∏—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫—É —Ç–æ–ª—å–∫–æ –ø–æ —Å–≤–æ–∏–º —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞–º.

#### üü® –ú–µ–Ω–µ–¥–∂–µ—Ä
- –í–∏–¥–∏—Ç –º–µ–Ω—é, –±—Ä–æ–Ω–∏, –∑–∞–∫–∞–∑—ã.
- –ú–æ–∂–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å –º–µ–Ω—é, —Ü–µ–Ω—ã, –±—Ä–æ–Ω–∏.
- –ù–µ –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

#### üü© –û—Ñ–∏—Ü–∏–∞–Ω—Ç
- –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º –∏ –∑–∞–∫–∞–∑–∞–º.
- –ë–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ –º–µ–¥–∏–∞, –∞–Ω–∞–ª–∏—Ç–∏–∫–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º.

### ‚öôÔ∏è –†–∞–±–æ—Ç–∞ —Å —Ä–æ–ª—è–º–∏

- –í—Å–µ —Ä–æ–ª–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `POST /api/roles`
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–∏ ‚Äî `POST /api/users/:id/roles`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ ‚Äî —á–µ—Ä–µ–∑ middleware `@RolesGuard()` + `@Permissions(...)`

---

## ‚úÖ –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (JWT, refresh)
- CRUD: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –ø—Ä–æ–¥—É–∫—Ç—ã, –º–µ–¥–∏–∞
- Cloudinary –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–µ–¥–∏–∞
- Inline-—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π
- SSR –º–µ–Ω—é —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞, –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å
- –ù–∞—á–∞—Ç–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Stripe (–ø–æ–¥–ø–∏—Å–∫–∏)

---

## üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã)

### –ü–æ–¥–ø–∏—Å–∫–∏
- üí≥ –ü–µ—Ä–≤—ã–π –≤–∑–Ω–æ—Å: 1000 z≈Ç
- üìÖ –ú–µ—Å—è—Ü ‚Äî 500 z≈Ç
- üåì –ü–æ–ª–≥–æ–¥–∞ ‚Äî 450 z≈Ç/–º–µ—Å (‚Äì10%)
- üåï –ì–æ–¥ ‚Äî 390 z≈Ç/–º–µ—Å (‚Äì20%)

- Stripe Webhook ‚Üí Order ‚Üí Subscription ‚Üí PDF invoice
- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –∏ –ø–ª–∞—Ç–µ–∂–∞–º–∏

---

## üÜï –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —Ñ–∏—á–∏

### üîé –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- –ü—Ä–æ—Å–º–æ—Ç—Ä—ã –º–µ–Ω—é
- –ö–ª–∏–∫–∏ –ø–æ –∫–æ—Ä–∑–∏–Ω–µ
- –î–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω—É
- –ó–∞–∫–∞–∑—ã

### üå∂Ô∏è –ê–ª–ª–µ—Ä–≥–µ–Ω—ã
- –ú–æ–¥–∞–ª–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–ª–ª–µ—Ä–≥–µ–Ω–æ–≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞
- –í—ã–±–æ—Ä –∞–ª–ª–µ—Ä–≥–µ–Ω–æ–≤ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–ª—é–¥–∞

### üîó –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç
- –°–∫—Ä–æ–ª–ª –∫ —Ç–æ–≤–∞—Ä—É –ø–æ URL (share)

### üìÜ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–æ–ª–∏–∫–∞
| –ü–æ–ª–µ         | –¢–∏–ø     |
|--------------|---------|
| –ò–º—è          | string  |
| Email        | string  |
| –¢–µ–ª–µ—Ñ–æ–Ω      | string  |
| –ö–æ–ª-–≤–æ –ø–µ—Ä—Å–æ–Ω| number  |
| –î–∞—Ç–∞, –≤—Ä–µ–º—è  | string  |
| –†–µ—Å—Ç–æ—Ä–∞–Ω     | ID      |
| –°—Å—ã–ª–∫–∞ —Ä–µ–¥–∏—Ä.| URL     |

- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ/–æ—Ç–º–µ–Ω–∞ –∞–¥–º–∏–Ω–æ–º
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ –ø–æ—á—Ç—É –∫–ª–∏–µ–Ω—Ç—É

### üí¨ –û—Ç–∑—ã–≤—ã
- –û—Ü–µ–Ω–∫–∞ (1‚Äì5)
- –¢–µ–∫—Å—Ç

### üì¶ –ó–∞–∫–∞–∑
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- –ù–æ–º–µ—Ä —Å—Ç–æ–ª–∏–∫–∞
- ID –±—Ä–æ–Ω–∏

### üßæ –ö—É–ø–æ–Ω—ã
- –ù–∞–∑–≤–∞–Ω–∏–µ
- –ö–æ–ª-–≤–æ
- –¢–∏–ø: –±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –±–ª—é–¥–æ, —Å–∫–∏–¥–∫–∞ (–≤ % –∏–ª–∏ z≈Ç)

---

## üìã –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –Ø–∑—ã–∫: TypeScript
- –•—Ä–∞–Ω–∏–ª–∏—â–µ: Cloudinary
- –¢–µ–∫—Å—Ç—ã: `translations` –ø–æ —è–∑—ã–∫–∞–º
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ —á–µ—Ä–µ–∑ Guards
- –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ NestJS
- –û—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã, PR —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º

---

## üß≠ –ö–æ–º–∞–Ω–¥–Ω–∞—è —Ä–∞–±–æ—Ç–∞
- –ò–∑—É—á–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –ø–µ—Ä–µ–¥ –∑–∞–¥–∞—á–µ–π
- –°–æ–±–ª—é–¥–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ —Ä–æ–ª–∏
- –ö–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å PR
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∏–ø—ã, –Ω–µ `any`---

## üí∏ –ü–æ–¥–ø–∏—Å–∫–∞ –∏ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ

### üíº –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã (—Ü–µ–Ω—ã –Ω–µ—Ç—Ç–æ, –±–µ–∑ VAT 23%)

| –ü–µ—Ä–∏–æ–¥       | –ü–æ–¥–ø–∏—Å–∫–∞ | –ê–∫—Ç–∏–≤–∞—Ü–∏—è |
|--------------|----------|-----------|
| 1 –º–µ—Å—è—Ü      | 500 z≈Ç   | 800 z≈Ç    |
| 6 –º–µ—Å—è—Ü–µ–≤    | 2700 z≈Ç  | 650 z≈Ç    |
| 12 –º–µ—Å—è—Ü–µ–≤   | 4800 z≈Ç  | 500 z≈Ç    |

> –í—Å–µ —Ü–µ–Ω—ã +23% VAT

### üé¨ –î–æ–ø. —Å—ä—ë–º–∫–∏

| –¢–∏–ø –ø–æ–¥–ø–∏—Å–∫–∏ | 1-—è –¥–æ–ø. —Å—ä—ë–º–∫–∞ | –°–ª–µ–¥—É—é—â–∏–µ —Å—ä—ë–º–∫–∏ |
|--------------|------------------|------------------|
| 12 –º–µ—Å—è—Ü–µ–≤   | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ        | 500 z≈Ç           |
| 6 –º–µ—Å—è—Ü–µ–≤    | 650 z≈Ç           | 650 z≈Ç           |
| 1 –º–µ—Å—è—Ü      | 800 z≈Ç           | 800 z≈Ç           |

> –¶–µ–ª—å ‚Äî —Å—Ç–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ 12-–º–µ—Å—è—á–Ω—ã–µ –∏ 6-–º–µ—Å—è—á–Ω—ã–µ –ø–ª–∞–Ω—ã